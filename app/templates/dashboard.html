{% extends "base.html" %}

{% block content %}
<div class="dashboard">
    <h2>Analytics Dashboard</h2>
    
    <div class="stats-container">
        <div class="stat-card">
            <div class="stat-value">{{ data.total_queries }}</div>
            <div class="stat-label">Total Queries</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-value">{{ data.accuracy|round(2) }}%</div>
            <div class="stat-label">Accuracy</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-value">{{ data.avg_response_time|round(2) }}s</div>
            <div class="stat-label">Avg Response Time</div>
        </div>
        
        <div class="stat-card">
            <div class="stat-value">{{ data.fallback_rate|round(2) }}%</div>
            <div class="stat-label">Fallback Rate</div>
        </div>
    </div>
    
    <h3>Intent Distribution</h3>
    <div class="chart-container">
        <img src="data:image/png;base64,{{ data.intent_chart }}" alt="Intent Distribution">
    </div>
    
    <h3>Query Trends</h3>
    <div class="chart-container">
        <img src="data:image/png;base64,{{ data.trend_chart }}" alt="Query Trends">
    </div>
</div>

<div class="back-link">
    <a href="/">
        <span>Back to Chat</span>
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-right: 8px;">
            <path d="M19 12H5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M12 19L5 12L12 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </a>
</div>
{% endblock %}